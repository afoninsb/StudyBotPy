{% extends 'base-1c.html' %}
{% load static %}

{% block pagehead %}Информационная панель по работам учащихся{% endblock  %}

{% block content %}
    <div class="accordion" id="accordionExample">
      <div class="accordion-item">
        <h2 class="accordion-header" id="headingOne">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
            Практические работы
            {% if p_p_passed %}
              <span class="badge">
                <i class="ri-book-fill ri-lg" data-bs-toggle="tooltip" data-bs-placement="top" title="Есть непроверенные работы" style="color: red;"></i>
              </span>
            {% endif %}
          </button>
        </h2>
        <div id="collapseOne" class="accordion-collapse collapse" aria-labelledby="headingOne" data-bs-parent="#accordionExample">
          <div class="accordion-body">
            <!-- Pills Tabs -->
            <ul class="nav nav-tabs" id="myTab" role="tablist">
              <li class="nav-item" role="presentation">
                <button class="nav-link active" id="pills-pgroup-tab" data-bs-toggle="pill" data-bs-target="#pills-pgroup" type="button" role="tab" aria-controls="pills-pgroup" aria-selected="true">По группам</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" id="pills-pplan-tab" data-bs-toggle="pill" data-bs-target="#pills-pplan" type="button" role="tab" aria-controls="pills-pplan" aria-selected="false">По темам</button>
              </li>
            </ul>
            <div class="tab-content pt-2" id="myTabContent">
              <div class="tab-pane fade show active" id="pills-pgroup" role="tabpanel" aria-labelledby="pgroup-tab">
                {% for group in p_groups_info %}
                  <div class="fw-bold">{{ group.name }}</div>
                  <!-- List group With badges -->
                  <ul class="list-group">
                    {% for item in group.items %}
                      <li class="list-group-item d-flex justify-content-between align-items-center">
                        {{ item.name }}
                        <span class="badge">
                          {% if item.work_passed %}
                                <a href="{% url 'works:panel_stat' botid 'p' 'group' group.id item.id 'no' 0 %}">
                                  <i class="ri-book-fill ri-lg" data-bs-toggle="tooltip" data-bs-placement="top" title="Есть непроверенные работы" style="color: red;"></i>
                                </a>&nbsp;&nbsp;
                          {% endif %}
                          {% if item.work_all %}
                                <a href="{% url 'works:panel_stat' botid 'p' 'group' group.id item.id 'all' 0 %}">
                                  <i class="ri-book-open-line ri-lg" data-bs-toggle="tooltip" data-bs-placement="top" title="Посмотреть все работы учащихся"></i>
                                </a>&nbsp;&nbsp;
                          {% endif %}
                          {% if item.link %}
                                <a href="{{ item.link }}" target="_blank">
                                  <i class="ri-arrow-right-up-fill ri-lg" data-bs-toggle="tooltip" data-bs-placement="top" title="Открыть ссылку на работу"></i>
                                </a>
                          {% endif %}
                        </span>
                      </li>
                    {% endfor %}
                  </ul><!-- End List With badges -->
                {% endfor %}
              </div>
              <div class="tab-pane fade" id="pills-pplan" role="tabpanel" aria-labelledby="pplan-tab">
                {% for plan in p_plans_info %}
                  <div class="fw-bold">{{ plan.name }}</div>
                  <!-- List group With badges -->
                  <ul class="list-group">
                    {% for item in plan.items %}
                      <li class="list-group-item d-flex justify-content-between align-items-center">
                        {{ item.name }}
                        <span class="badge">
                          {% if item.work_passed %}
                                <a href="{% url 'works:panel_stat' botid 'p' 'plan' plan.id item.id 'no' 0 %}">
                                  <i class="ri-book-fill ri-lg" data-bs-toggle="tooltip" data-bs-placement="top" title="Есть непроверенные работы" style="color: red;"></i>
                                </a>&nbsp;&nbsp;
                          {% endif %}
                          {% if item.work_all %}
                                <a href="{% url 'works:panel_stat' botid 'p' 'plan' plan.id item.id 'all' 0 %}">
                                  <i class="ri-book-open-line ri-lg" data-bs-toggle="tooltip" data-bs-placement="top" title="Посмотреть все работы учащихся"></i>
                                </a>&nbsp;&nbsp;
                          {% endif %}
                          {% if item.link %}
                                <a href="{{ item.link }}" target="_blank">
                                  <i class="ri-arrow-right-up-fill ri-lg" data-bs-toggle="tooltip" data-bs-placement="top" title="Открыть ссылку на работу"></i>
                                </a>
                          {% endif %}
                        </span>
                      </li>
                    {% endfor %}
                  </ul><!-- End List With badges -->
                {% endfor %}
              </div>
            </div><!-- End Pills Tabs -->
          </div>
        </div>
      </div>
      <div class="accordion-item">
        <h2 class="accordion-header" id="headingTwo">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
            Контрольные работы
            {% if k_p_passed %}
              <span class="badge">
                <i class="ri-book-fill ri-lg" data-bs-toggle="tooltip" data-bs-placement="top" title="Есть непроверенные работы" style="color: red;"></i>
              </span>
            {% endif %}
          </button>
        </h2>
        <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#accordionExample">
          <div class="accordion-body">
            <!-- Pills Tabs -->
            <ul class="nav nav-tabs" id="myTab" role="tablist">
              <li class="nav-item" role="presentation">
                <button class="nav-link active" id="pills-kgroup-tab" data-bs-toggle="pill" data-bs-target="#pills-kgroup" type="button" role="tab" aria-controls="pills-kgroup" aria-selected="true">По группам</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" id="pills-kplan-tab" data-bs-toggle="pill" data-bs-target="#pills-kplan" type="button" role="tab" aria-controls="pills-kplan" aria-selected="false">По темам</button>
              </li>
            </ul>
            <div class="tab-content pt-2" id="myTabContent">
              <div class="tab-pane fade show active" id="pills-kgroup" role="tabpanel" aria-labelledby="kgroup-tab">
                {% for group in k_groups_info %}
                  <div class="fw-bold">{{ group.name }}</div>
                  <!-- List group With badges -->
                  <ul class="list-group">
                    {% for item in group.items %}
                      <li class="list-group-item d-flex justify-content-between align-items-center">
                        {{ item.name }}
                        <span class="badge">
                          {% if item.work_passed %}
                                <a href="{% url 'works:panel_stat' botid 'k' 'group' group.id item.id 'no' 0 %}">
                                  <i class="ri-book-fill ri-lg" data-bs-toggle="tooltip" data-bs-placement="top" title="Есть непроверенные работы" style="color: red;"></i>
                                </a>&nbsp;&nbsp;
                          {% endif %}
                          {% if item.work_all %}
                                <a href="{% url 'works:panel_stat' botid 'k' 'group' group.id item.id 'all' 0 %}">
                                  <i class="ri-book-open-line ri-lg" data-bs-toggle="tooltip" data-bs-placement="top" title="Посмотреть все работы учащихся"></i>
                                </a>&nbsp;&nbsp;
                          {% endif %}
                          {% if item.link %}
                                <a href="{% url 'kr:kr' botid item.link %}" target="_blank">
                                  <i class="ri-arrow-right-up-fill ri-lg" data-bs-toggle="tooltip" data-bs-placement="top" title="Открыть ссылку на работу"></i>
                                </a>
                          {% endif %}
                        </span>
                      </li>
                    {% endfor %}
                  </ul><!-- End List With badges -->
                {% endfor %}
              </div>
              <div class="tab-pane fade" id="pills-kplan" role="tabpanel" aria-labelledby="kplan-tab">
                {% for plan in k_plans_info %}
                  <div class="fw-bold">{{ plan.name }}</div>
                  <!-- List group With badges -->
                  <ul class="list-group">
                    {% for item in plan.items %}
                      <li class="list-group-item d-flex justify-content-between align-items-center">
                        {{ item.name }}
                        <span class="badge">
                          {% if item.work_passed %}
                                <a href="{% url 'works:panel_stat' botid 'k' 'plan' plan.id item.id 'no' 0 %}">
                                  <i class="ri-book-fill ri-lg" data-bs-toggle="tooltip" data-bs-placement="top" title="Есть непроверенные работы" style="color: red;"></i>
                                </a>&nbsp;&nbsp;
                          {% endif %}
                          {% if item.work_all %}
                                <a href="{% url 'works:panel_stat' botid 'k' 'plan' plan.id item.id 'all' 0 %}">
                                  <i class="ri-book-open-line ri-lg" data-bs-toggle="tooltip" data-bs-placement="top" title="Посмотреть все работы учащихся"></i>
                                </a>&nbsp;&nbsp;
                          {% endif %}
                          {% if item.link %}
                                <a href="{% url 'kr:kr' botid item.link %}" target="_blank">
                                  <i class="ri-arrow-right-up-fill ri-lg" data-bs-toggle="tooltip" data-bs-placement="top" title="Открыть ссылку на работу"></i>
                                </a>
                          {% endif %}
                        </span>
                      </li>
                    {% endfor %}
                  </ul><!-- End List With badges -->
                  {% endfor %}
                </div>
            </div><!-- End Pills Tabs -->
          </div>
        </div>
      </div>
    </div>

{% endblock  %}
